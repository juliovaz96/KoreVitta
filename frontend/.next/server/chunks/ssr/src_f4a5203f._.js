module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("kv-surface rounded-2xl transition-[border-color,box-shadow,background-color] duration-150",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("p-5 pb-3",a),...d})}function f({className:a,...d}){return(0,b.jsx)("h2",{className:(0,c.cn)("text-base font-semibold tracking-tight text-foreground md:text-lg",a),...d})}function g({className:a,...d}){return(0,b.jsx)("p",{className:(0,c.cn)("text-sm leading-6 text-muted-foreground",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("px-5 pb-5",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(68114);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium leading-none tracking-[0.01em] transition-colors",{variants:{variant:{default:"border-border bg-secondary text-secondary-foreground",success:"border-chart-3/35 bg-chart-3/10 text-foreground",warning:"border-chart-5/35 bg-chart-5/10 text-foreground",danger:"border-destructive/35 bg-destructive/10 text-destructive",outline:"border-border bg-background text-muted-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("span",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},66718,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,type:c="text",...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-xl border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground transition-[border-color,box-shadow,background-color] duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50",a),ref:f,...e}));e.displayName="Input",a.s(["Input",0,e])},43805,a=>{"use strict";var b=a.i(72131),c=a.i(19032),d=a.i(81870);function e(a){let e=(0,b.useCallback)(()=>c.apiClient.listPatients(a),[a]);return(0,d.useResource)(e,["patients",a?.search??"",a?.status??"",a?.sort??""],{staleTime:6e4,keepPreviousData:!0})}function f(a){let e=(0,b.useCallback)(()=>c.apiClient.getPatientById(a),[a]);return(0,d.useResource)(e,["patient-details",a],{enabled:!!a,staleTime:6e4})}a.s(["usePatientDetails",()=>f,"usePatients",()=>e])},98981,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(50944),e=a.i(72131),f=a.i(43805),g=a.i(99570),h=a.i(91119),i=a.i(66718),j=a.i(86304),k=a.i(81771);function l(){let a=(0,d.useRouter)(),[l,m]=(0,e.useState)(""),[n,o]=(0,e.useState)("all"),[p,q]=(0,e.useState)("risk_desc"),r=function(a,b=300){let[c,d]=(0,e.useState)(a);return(0,e.useEffect)(()=>{let c=window.setTimeout(()=>{d(a)},b);return()=>{window.clearTimeout(c)}},[a,b]),c}(l,300),s=(0,e.useMemo)(()=>({search:r.trim(),status:"all"===n?void 0:n,sort:p}),[r,n,p]),{data:t,loading:u,error:v,reload:w}=(0,f.usePatients)(s),x=!!r.trim()||"all"!==n||"risk_desc"!==p,y=t?.length??0,z=t?.filter(a=>"at_risk"===a.status).length??0,A=t?.filter(a=>"active"===a.status).length??0;return u?(0,b.jsx)(k.LoadingState,{label:"Carregando pacientes"}):v?(0,b.jsx)(k.ErrorState,{description:"Não foi possível carregar a lista de pacientes.",onRetry:()=>{w()}}):(0,b.jsxs)("main",{className:"mx-auto flex w-full max-w-6xl flex-col gap-5",children:[(0,b.jsx)("header",{className:"kv-surface rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"kv-pill inline-flex",children:"PRO-02"}),(0,b.jsx)("h1",{className:"mt-3 text-2xl font-semibold tracking-tight",children:"Pacientes"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Acompanhe status, risco e próximos check-ins em uma única visão."})]}),(0,b.jsx)(c.default,{href:"/patients/new",children:(0,b.jsx)(g.Button,{children:"Criar e enviar convite"})})]})}),(0,b.jsxs)("section",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsx)(h.CardTitle,{children:y})}),(0,b.jsx)(h.CardContent,{className:"pt-0 text-sm text-muted-foreground",children:"Pacientes visíveis"})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsx)(h.CardTitle,{children:A})}),(0,b.jsx)(h.CardContent,{className:"pt-0 text-sm text-muted-foreground",children:"Em acompanhamento"})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsx)(h.CardTitle,{children:z})}),(0,b.jsx)(h.CardContent,{className:"pt-0 text-sm text-muted-foreground",children:"Em risco"})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsx)(h.CardTitle,{children:"Filtros"})}),(0,b.jsxs)(h.CardContent,{className:"pt-6",children:[(0,b.jsxs)("div",{className:"mb-3 flex flex-wrap gap-2",children:[(0,b.jsx)(g.Button,{variant:"at_risk"===n?"secondary":"outline",size:"sm",onClick:()=>o("at_risk"),children:"Em risco"}),(0,b.jsx)(g.Button,{variant:"paused"===n?"secondary":"outline",size:"sm",onClick:()=>o("paused"),children:"Atrasados"}),(0,b.jsx)(g.Button,{variant:"all"===n?"secondary":"outline",size:"sm",onClick:()=>o("all"),children:"Todos"})]}),(0,b.jsxs)("div",{className:"grid gap-3 md:grid-cols-[1.4fr_1fr_1fr_auto_auto]",children:[(0,b.jsx)(i.Input,{"aria-label":"Buscar paciente",placeholder:"Buscar por nome",value:l,onChange:a=>m(a.target.value)}),(0,b.jsxs)("select",{className:"h-10 rounded-xl border border-input bg-background px-3 text-sm",value:n,onChange:a=>o(a.target.value),children:[(0,b.jsx)("option",{value:"all",children:"Todos os status"}),(0,b.jsx)("option",{value:"active",children:"Ativo"}),(0,b.jsx)("option",{value:"at_risk",children:"Em risco"}),(0,b.jsx)("option",{value:"paused",children:"Pausado"}),(0,b.jsx)("option",{value:"inactive",children:"Inativo"})]}),(0,b.jsxs)("select",{className:"h-10 rounded-xl border border-input bg-background px-3 text-sm",value:p,onChange:a=>q(a.target.value),children:[(0,b.jsx)("option",{value:"risk_desc",children:"Risco (maior primeiro)"}),(0,b.jsx)("option",{value:"name_asc",children:"Nome (A-Z)"})]}),(0,b.jsx)(g.Button,{variant:"ghost",onClick:()=>{m(""),o("all"),q("risk_desc")},children:"Limpar"}),(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>{w()},children:"Atualizar"})]})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsx)(h.CardHeader,{children:(0,b.jsx)(h.CardTitle,{children:"Pacientes"})}),(0,b.jsxs)(h.CardContent,{children:[(0,b.jsxs)("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-2 text-xs text-muted-foreground",children:[(0,b.jsxs)("p",{children:[y," ",1===y?"resultado":"resultados",x?" com filtros ativos":" sem filtros ativos"]}),x?(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",onClick:()=>{m(""),o("all"),q("risk_desc")},children:"Limpar filtros ativos"}):null]}),t&&t.length>0?(0,b.jsx)("div",{className:"kv-table-wrap",children:(0,b.jsxs)("table",{className:"kv-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Nome"}),(0,b.jsx)("th",{children:"Status"}),(0,b.jsx)("th",{children:"Risco"}),(0,b.jsx)("th",{children:"Protocolo"}),(0,b.jsx)("th",{children:"Próx. Check-in"}),(0,b.jsx)("th",{children:"Ações"})]})}),(0,b.jsx)("tbody",{children:t.map(a=>{var d;return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"font-medium",children:a.name}),(0,b.jsx)("td",{children:(0,b.jsx)(j.Badge,{variant:"active"===(d=a.status)?"success":"at_risk"===d?"danger":"paused"===d?"warning":"outline",className:"capitalize",children:a.status.replace("_"," ")})}),(0,b.jsx)("td",{className:"font-medium",children:a.riskScore}),(0,b.jsx)("td",{children:a.activeProtocolName??"—"}),(0,b.jsx)("td",{children:a.nextCheckinLabel??"—"}),(0,b.jsx)("td",{children:(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(c.default,{href:`/patients/${a.id}`,children:(0,b.jsx)(g.Button,{size:"sm",children:"Ver paciente"})}),(0,b.jsx)(c.default,{href:`/patients/${a.id}/messages`,children:(0,b.jsx)(g.Button,{size:"sm",variant:"ghost",children:"Mensagens"})})]})})]},a.id)})})]})}):(0,b.jsx)(k.EmptyState,{title:x?"Nenhum paciente encontrado":"Sem dados",description:x?"Ajuste os filtros para ampliar os resultados.":"Ainda não há dados para exibir aqui.",ctaLabel:x?"Limpar filtros":"Criar e enviar convite",onCta:()=>{if(x){m(""),o("all"),q("risk_desc");return}a.push("/patients/new")}})]})]})]})}a.s(["default",()=>l],98981)}];

//# sourceMappingURL=src_f4a5203f._.js.map