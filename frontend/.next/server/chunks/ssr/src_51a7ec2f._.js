module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("kv-surface rounded-2xl transition-[border-color,box-shadow,background-color] duration-150",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("p-5 pb-3",a),...d})}function f({className:a,...d}){return(0,b.jsx)("h2",{className:(0,c.cn)("text-base font-semibold tracking-tight text-foreground md:text-lg",a),...d})}function g({className:a,...d}){return(0,b.jsx)("p",{className:(0,c.cn)("text-sm leading-6 text-muted-foreground",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("px-5 pb-5",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(68114);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium leading-none tracking-[0.01em] transition-colors",{variants:{variant:{default:"border-border bg-secondary text-secondary-foreground",success:"border-chart-3/35 bg-chart-3/10 text-foreground",warning:"border-chart-5/35 bg-chart-5/10 text-foreground",danger:"border-destructive/35 bg-destructive/10 text-destructive",outline:"border-border bg-background text-muted-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("span",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},11105,a=>{"use strict";var b=a.i(72131),c=a.i(19032),d=a.i(81870);function e(){let a=(0,b.useCallback)(()=>c.apiClient.getToday(),[]);return(0,d.useResource)(a,["patient-today"],{staleTime:2e4})}a.s(["useToday",()=>e])},87666,a=>{"use strict";var b=a.i(72131),c=a.i(19032),d=a.i(81870);function e(a){let e=(0,b.useCallback)(()=>c.apiClient.listPatientCheckins(a),[a]);return(0,d.useResource)(e,["patient-checkins",a],{enabled:!!a,staleTime:2e4})}function f(){let a=(0,b.useCallback)(()=>c.apiClient.listPendingReview(),[]);return(0,d.useResource)(a,["pending-review"],{staleTime:2e4})}a.s(["usePatientCheckins",()=>e,"usePendingReview",()=>f])},98525,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(50944),e=a.i(87666),f=a.i(11105),g=a.i(86304),h=a.i(99570),i=a.i(91119),j=a.i(81771);function k(){let a=(0,d.useRouter)(),k=(0,f.useToday)(),l=(0,e.usePatientCheckins)("pat_001");if(k.loading||l.loading)return(0,b.jsx)(j.LoadingState,{label:"Carregamento do progresso"});if(k.error||l.error)return(0,b.jsx)(j.ErrorState,{description:"Não foi possível concluir a ação. Tente novamente.",onRetry:()=>{k.reload(),l.reload()}});let m=k.data?.tasks.filter(a=>a.completed).length??0,n=k.data?.tasks.length??0,o=n>0?Math.round(m/n*100):0,p=l.data??[],q=p.filter(a=>"completed"===a.status).length,r=[{label:"Aderência diária",value:o},{label:"Check-ins concluídos",value:p.length>0?Math.round(q/p.length*100):0},{label:"Hidratação",value:k.data&&k.data.waterTargetMl>0?Math.min(100,Math.round(k.data.waterCurrentMl/k.data.waterTargetMl*100)):0}];return(0,b.jsxs)("main",{className:"mx-auto flex w-full max-w-4xl flex-col gap-5",children:[(0,b.jsxs)("header",{className:"kv-surface rounded-2xl p-6",children:[(0,b.jsx)(g.Badge,{variant:"outline",children:"PAT-04"}),(0,b.jsx)("h1",{className:"mt-3 text-2xl font-semibold tracking-tight",children:"Meu progresso"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Evolução semanal com foco em aderência, check-ins e consistência de rotina."}),(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,b.jsx)(c.default,{href:"/checkin",children:(0,b.jsx)(h.Button,{children:"Enviar check-in"})}),(0,b.jsx)(c.default,{href:"/today",children:(0,b.jsx)(h.Button,{variant:"outline",children:"Ver rotina de hoje"})})]})]}),(0,b.jsxs)("section",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsxs)(i.CardTitle,{children:[o,"%"]})}),(0,b.jsx)(i.CardContent,{className:"pt-0 text-sm text-muted-foreground",children:"Aderência diária"})]}),(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsxs)(i.CardTitle,{children:[p.length>0?Math.round(q/p.length*100):0,"%"]})}),(0,b.jsx)(i.CardContent,{className:"pt-0 text-sm text-muted-foreground",children:"Check-ins concluídos"})]}),(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsxs)(i.CardTitle,{children:[r[2]?.value??0,"%"]})}),(0,b.jsx)(i.CardContent,{className:"pt-0 text-sm text-muted-foreground",children:"Meta de hidratação"})]})]}),(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Indicadores da semana"})}),(0,b.jsx)(i.CardContent,{className:"space-y-3",children:r.map(a=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-1 flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{children:a.label}),(0,b.jsxs)("span",{className:"text-muted-foreground",children:[a.value,"%"]})]}),(0,b.jsx)("div",{className:"h-2 w-full rounded-full bg-muted",children:(0,b.jsx)("div",{className:"h-2 rounded-full bg-linear-to-r from-primary to-chart-2",style:{width:`${a.value}%`}})})]},a.label))})]}),(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Histórico de check-ins"})}),(0,b.jsx)(i.CardContent,{children:p.length>0?(0,b.jsx)("ul",{className:"space-y-2 text-sm",children:p.map(a=>(0,b.jsxs)("li",{className:"rounded-xl border border-border px-3 py-2",children:[(0,b.jsx)("p",{className:"font-medium",children:new Date(a.scheduledAt).toLocaleDateString("pt-BR")}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)(g.Badge,{variant:"completed"===a.status?"success":"missed"===a.status?"danger":"warning",className:"capitalize",children:a.status})})]},a.id))}):(0,b.jsx)(j.EmptyState,{title:"Sem dados",description:"Ainda não há dados para exibir aqui.",ctaLabel:"Enviar check-in",onCta:()=>{a.push("/checkin")}})})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(c.default,{href:"/protocol",children:(0,b.jsx)(h.Button,{variant:"outline",children:"Ver protocolo"})}),(0,b.jsx)(c.default,{href:"/messages",children:(0,b.jsx)(h.Button,{variant:"ghost",children:"Abrir mensagens"})})]})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=src_51a7ec2f._.js.map