module.exports=[70430,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("label",{className:(0,c.cn)("text-sm font-semibold leading-5 text-foreground",a),...d})}a.s(["Label",()=>d])},91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("kv-surface rounded-2xl transition-[border-color,box-shadow,background-color] duration-150",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("p-5 pb-3",a),...d})}function f({className:a,...d}){return(0,b.jsx)("h2",{className:(0,c.cn)("text-base font-semibold tracking-tight text-foreground md:text-lg",a),...d})}function g({className:a,...d}){return(0,b.jsx)("p",{className:(0,c.cn)("text-sm leading-6 text-muted-foreground",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("px-5 pb-5",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(68114);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium leading-none tracking-[0.01em] transition-colors",{variants:{variant:{default:"border-border bg-secondary text-secondary-foreground",success:"border-chart-3/35 bg-chart-3/10 text-foreground",warning:"border-chart-5/35 bg-chart-5/10 text-foreground",danger:"border-destructive/35 bg-destructive/10 text-destructive",outline:"border-border bg-background text-muted-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("span",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},43805,a=>{"use strict";var b=a.i(72131),c=a.i(19032),d=a.i(81870);function e(a){let e=(0,b.useCallback)(()=>c.apiClient.listPatients(a),[a]);return(0,d.useResource)(e,["patients",a?.search??"",a?.status??"",a?.sort??""],{staleTime:6e4,keepPreviousData:!0})}function f(a){let e=(0,b.useCallback)(()=>c.apiClient.getPatientById(a),[a]);return(0,d.useResource)(e,["patient-details",a],{enabled:!!a,staleTime:6e4})}a.s(["usePatientDetails",()=>f,"usePatients",()=>e])},3588,a=>{"use strict";var b=a.i(72131),c=a.i(19032),d=a.i(81870);function e(a){let e=(0,b.useCallback)(()=>c.apiClient.listProtocols(a),[a]);return(0,d.useResource)(e,["patient-protocols",a],{enabled:!!a,staleTime:6e4})}function f(){let a=(0,b.useCallback)(()=>c.apiClient.listTemplates(),[]);return(0,d.useResource)(a,["protocol-templates"],{staleTime:3e5})}a.s(["usePatientProtocols",()=>e,"useTemplates",()=>f])},60864,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(43805),f=a.i(3588),g=a.i(86304),h=a.i(99570),i=a.i(91119),j=a.i(70430),k=a.i(81771);let l=["nutrition","training","supplementation","hydration"];function m(){let a=(0,f.useTemplates)(),m=(0,e.usePatients)(),[n,o]=(0,d.useState)(""),[p,q]=(0,d.useState)(""),[r,s]=(0,d.useState)(["nutrition","training"]),[t,u]=(0,d.useState)(!1),[v,w]=(0,d.useState)(!1);if(a.loading||m.loading)return(0,b.jsx)(k.LoadingState,{label:"Carregamento do fluxo de aplicação"});if(a.error||m.error)return(0,b.jsx)(k.ErrorState,{description:"Não foi possível concluir a ação. Tente novamente.",onRetry:()=>{a.reload(),m.reload()}});let x=a.data??[],y=m.data??[],z=y.find(a=>a.id===p)??null,A=!!(n&&p&&r.length>0);return 0===x.length||0===y.length?(0,b.jsx)(k.EmptyState,{title:"Sem dados",description:"Ainda não há dados para exibir aqui."}):(0,b.jsxs)("main",{className:"mx-auto flex w-full max-w-5xl flex-col gap-5",children:[(0,b.jsxs)("header",{className:"kv-surface rounded-2xl p-6",children:[(0,b.jsx)(g.Badge,{variant:"outline",children:"PRO-14"}),(0,b.jsx)("h1",{className:"mt-3 text-2xl font-semibold tracking-tight",children:"Aplicar template"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Selecione template, paciente e módulos antes de confirmar."})]}),t?(0,b.jsx)(k.SuccessState,{message:"Ação concluída com sucesso."}):null,v?(0,b.jsx)("p",{className:"rounded-xl border border-primary/25 bg-primary/10 px-3 py-2 text-sm","aria-live":"polite",children:"Criando protocolo e vinculando ao paciente..."}):null,(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Seleção"})}),(0,b.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"templateId",children:"Template"}),(0,b.jsxs)("select",{id:"templateId",className:"h-10 w-full rounded-xl border border-input bg-background px-3 text-sm",value:n,onChange:a=>o(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"Selecionar template"}),x.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(j.Label,{htmlFor:"patientId",children:"Paciente"}),(0,b.jsxs)("select",{id:"patientId",className:"h-10 w-full rounded-xl border border-input bg-background px-3 text-sm",value:p,onChange:a=>q(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"Selecionar paciente"}),y.map(a=>(0,b.jsx)("option",{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Módulos"}),(0,b.jsx)("div",{className:"grid gap-2 md:grid-cols-2",children:l.map(a=>(0,b.jsxs)("label",{className:"flex items-center gap-2 rounded-xl border border-border px-3 py-2 text-sm capitalize",children:[(0,b.jsx)("input",{type:"checkbox",checked:r.includes(a),onChange:()=>{s(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])}}),a]},a))})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)(h.Button,{disabled:!A||v,onClick:async()=>{w(!0),await new Promise(a=>setTimeout(a,300)),u(!0),w(!1)},children:"Criar protocolo com template"}),z?(0,b.jsx)(c.default,{href:`/patients/${z.id}/protocol`,children:(0,b.jsx)(h.Button,{variant:"outline",children:"Abrir protocolo do paciente"})}):null]})]})]})]})}a.s(["default",()=>m])}];

//# sourceMappingURL=src_689baae0._.js.map