module.exports=[91119,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("kv-surface rounded-2xl transition-[border-color,box-shadow,background-color] duration-150",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("p-5 pb-3",a),...d})}function f({className:a,...d}){return(0,b.jsx)("h2",{className:(0,c.cn)("text-base font-semibold tracking-tight text-foreground md:text-lg",a),...d})}function g({className:a,...d}){return(0,b.jsx)("p",{className:(0,c.cn)("text-sm leading-6 text-muted-foreground",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{className:(0,c.cn)("px-5 pb-5",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},86304,a=>{"use strict";var b=a.i(87924),c=a.i(187),d=a.i(68114);let e=(0,c.cva)("inline-flex items-center rounded-full border px-2.5 py-1 text-xs font-medium leading-none tracking-[0.01em] transition-colors",{variants:{variant:{default:"border-border bg-secondary text-secondary-foreground",success:"border-chart-3/35 bg-chart-3/10 text-foreground",warning:"border-chart-5/35 bg-chart-5/10 text-foreground",danger:"border-destructive/35 bg-destructive/10 text-destructive",outline:"border-border bg-background text-muted-foreground"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("span",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},66718,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,type:c="text",...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-10 w-full rounded-xl border border-input bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground transition-[border-color,box-shadow,background-color] duration-150 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:border-primary disabled:cursor-not-allowed disabled:opacity-50",a),ref:f,...e}));e.displayName="Input",a.s(["Input",0,e])},70430,a=>{"use strict";var b=a.i(87924),c=a.i(68114);function d({className:a,...d}){return(0,b.jsx)("label",{className:(0,c.cn)("text-sm font-semibold leading-5 text-foreground",a),...d})}a.s(["Label",()=>d])},3588,a=>{"use strict";var b=a.i(72131),c=a.i(19032),d=a.i(81870);function e(a){let e=(0,b.useCallback)(()=>c.apiClient.listProtocols(a),[a]);return(0,d.useResource)(e,["patient-protocols",a],{enabled:!!a,staleTime:6e4})}function f(){let a=(0,b.useCallback)(()=>c.apiClient.listTemplates(),[]);return(0,d.useResource)(a,["protocol-templates"],{staleTime:3e5})}a.s(["usePatientProtocols",()=>e,"useTemplates",()=>f])},80825,a=>{"use strict";var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(50944),f=a.i(3588),g=a.i(86304),h=a.i(99570),i=a.i(91119),j=a.i(66718),k=a.i(70430),l=a.i(81771);let m=["nutrition","training","supplementation","hydration"];function n(){let a=(0,e.useParams)().id,n=(0,f.usePatientProtocols)("pat_001"),[o,p]=(0,d.useState)(null),q=(0,d.useMemo)(()=>{let b=n.data??[];return b.find(b=>b.id===a)??b[0]??null},[a,n.data]),[r,s]=(0,d.useState)(""),[t,u]=(0,d.useState)(""),[v,w]=(0,d.useState)(""),[x,y]=(0,d.useState)([]);if(n.loading)return(0,b.jsx)(l.LoadingState,{label:"Carregando editor de protocolo"});if(n.error)return(0,b.jsx)(l.ErrorState,{description:"Não foi possível carregar os dados do protocolo.",onRetry:()=>{n.reload()}});if(!q)return(0,b.jsx)(l.EmptyState,{title:"Protocolo não encontrado",description:"Não há protocolo disponível para edição neste ambiente de demonstração."});let z=r||q.name,A=t||q.startsAt,B=v||q.endsAt||"",C=x.length>0?x:q.modules;return(0,b.jsxs)("main",{className:"mx-auto flex w-full max-w-5xl flex-col gap-5",children:[(0,b.jsxs)("header",{className:"kv-surface rounded-2xl p-6",children:[(0,b.jsx)(g.Badge,{variant:"outline",children:"PRO-07"}),(0,b.jsx)("h1",{className:"mt-3 text-2xl font-semibold tracking-tight",children:"Editor de protocolo"}),(0,b.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"Edição do bundle integrado com controle de versão e módulos ativos."}),(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[(0,b.jsxs)(g.Badge,{variant:"default",children:["Versão ",q.version]}),(0,b.jsx)(g.Badge,{variant:"active"===q.status?"success":"warning",className:"capitalize",children:q.status})]})]}),o?(0,b.jsx)(l.SuccessState,{message:o}):null,(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Dados principais"})}),(0,b.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(k.Label,{htmlFor:"protocolName",children:"Nome do protocolo"}),(0,b.jsx)(j.Input,{id:"protocolName",value:z,onChange:a=>s(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(k.Label,{htmlFor:"protocolStatus",children:"Status"}),(0,b.jsx)("p",{id:"protocolStatus",className:"text-sm capitalize text-muted-foreground",children:q.status})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(k.Label,{htmlFor:"startsAt",children:"Início"}),(0,b.jsx)(j.Input,{id:"startsAt",type:"date",value:A,onChange:a=>u(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(k.Label,{htmlFor:"endsAt",children:"Fim"}),(0,b.jsx)(j.Input,{id:"endsAt",type:"date",value:B,onChange:a=>w(a.target.value)})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(k.Label,{children:"Módulos ativos"}),(0,b.jsx)("div",{className:"grid gap-2 md:grid-cols-2",children:m.map(a=>{let c=C.includes(a);return(0,b.jsxs)("label",{className:"flex items-center gap-2 rounded-xl border border-border px-3 py-2 text-sm capitalize",children:[(0,b.jsx)("input",{type:"checkbox",checked:c,onChange:()=>{y(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a])}}),a]},a)})})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)(h.Button,{variant:"outline",onClick:async()=>{await new Promise(a=>setTimeout(a,300)),p("Rascunho do protocolo salvo com sucesso.")},children:"Salvar rascunho"}),(0,b.jsx)(h.Button,{onClick:async()=>{await new Promise(a=>setTimeout(a,300)),p("Nova versão publicada e protocolo ativado.")},disabled:0===C.length,children:"Publicar nova versão"}),(0,b.jsx)(h.Button,{variant:"secondary",onClick:async()=>{await new Promise(a=>setTimeout(a,300)),p("Template aplicado aos pacientes selecionados.")},children:"Aplicar a paciente(s)"}),(0,b.jsx)(c.default,{href:`/protocols/${q.id}/nutrition`,children:(0,b.jsx)(h.Button,{variant:"ghost",children:"Editar Nutrição"})}),(0,b.jsx)(c.default,{href:`/protocols/${q.id}/training`,children:(0,b.jsx)(h.Button,{variant:"ghost",children:"Editar Treino"})})]})]})]}),(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Resumo operacional"})}),(0,b.jsxs)(i.CardContent,{className:"space-y-1 text-sm text-muted-foreground",children:[(0,b.jsxs)("p",{children:["Versão atual: ",q.version]}),(0,b.jsx)("p",{children:"O que mudou: ajustes de metas e módulos para a fase atual do paciente."}),(0,b.jsxs)("p",{children:["Vigência: ",new Date(q.startsAt).toLocaleDateString("pt-BR"),q.endsAt?` at\xe9 ${new Date(q.endsAt).toLocaleDateString("pt-BR")}`:""]}),(0,b.jsxs)("p",{children:["Módulos configurados: ",C.join(", ")]})]})]})]})}a.s(["default",()=>n])}];

//# sourceMappingURL=src_4773cb94._.js.map