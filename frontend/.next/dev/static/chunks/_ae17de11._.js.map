{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/dev/korevitta_new/korevitta-app/src/components/page-scaffold.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport type { ScreenState } from \"@/lib/mock-screen-state\";\r\nimport { EmptyState, ErrorState, LoadingState, PermissionState, SuccessState } from \"@/components/shared/data-states\";\r\n\r\ntype QuickAction = {\r\n  label: string;\r\n  href: string;\r\n};\r\n\r\ntype PageScaffoldProps = {\r\n  code: string;\r\n  title: string;\r\n  objective: string;\r\n  primaryAction?: QuickAction;\r\n  sections?: string[];\r\n  notes?: string[];\r\n};\r\n\r\nexport function PageScaffold({\r\n  code,\r\n  title,\r\n  objective,\r\n  primaryAction,\r\n  sections = [],\r\n  notes = [],\r\n}: PageScaffoldProps) {\r\n  const pathname = usePathname();\r\n  const [currentState, setCurrentState] = useState<ScreenState>(\"loading\");\r\n\r\n  const loadState = useCallback(async (showLoading = false) => {\r\n    if (showLoading) setCurrentState(\"loading\");\r\n    try {\r\n      const response = await fetch(\r\n        `/api/mock/screen-state?pathname=${encodeURIComponent(pathname || \"/\")}`,\r\n        {\r\n          method: \"GET\",\r\n          cache: \"no-store\",\r\n        },\r\n      );\r\n\r\n      if (!response.ok) {\r\n        setCurrentState(\"error\");\r\n        return;\r\n      }\r\n\r\n      const payload = (await response.json()) as { state?: ScreenState };\r\n      setCurrentState(payload.state ?? \"ready\");\r\n    } catch {\r\n      setCurrentState(\"error\");\r\n    }\r\n  }, [pathname]);\r\n\r\n  useEffect(() => {\r\n    let isActive = true;\r\n\r\n    const run = async () => {\r\n      try {\r\n        const response = await fetch(\r\n          `/api/mock/screen-state?pathname=${encodeURIComponent(pathname || \"/\")}`,\r\n          {\r\n            method: \"GET\",\r\n            cache: \"no-store\",\r\n          },\r\n        );\r\n\r\n        if (!isActive) return;\r\n\r\n        if (!response.ok) {\r\n          setCurrentState(\"error\");\r\n          return;\r\n        }\r\n\r\n        const payload = (await response.json()) as { state?: ScreenState };\r\n        if (!isActive) return;\r\n        setCurrentState(payload.state ?? \"ready\");\r\n      } catch {\r\n        if (!isActive) return;\r\n        setCurrentState(\"error\");\r\n      }\r\n    };\r\n\r\n    void run();\r\n\r\n    return () => {\r\n      isActive = false;\r\n    };\r\n  }, [pathname]);\r\n\r\n  const renderState = () => {\r\n    if (currentState === \"loading\") {\r\n      return <LoadingState label=\"Carregando tela\" />;\r\n    }\r\n\r\n    if (currentState === \"empty\") {\r\n      return (\r\n        <EmptyState\r\n          title=\"Nenhum dado disponível\"\r\n          description=\"Não há dados para exibir nesta tela no momento.\"\r\n          ctaLabel={primaryAction?.label}\r\n          onCta={\r\n            primaryAction\r\n              ? () => {\r\n                  window.location.href = primaryAction.href;\r\n                }\r\n              : undefined\r\n          }\r\n        />\r\n      );\r\n    }\r\n\r\n    if (currentState === \"error\") {\r\n      return (\r\n        <ErrorState\r\n          description=\"Não foi possível carregar os dados da tela.\"\r\n          onRetry={() => {\r\n            void loadState(true);\r\n          }}\r\n        />\r\n      );\r\n    }\r\n\r\n    if (currentState === \"success\") {\r\n      return <SuccessState />;\r\n    }\r\n\r\n    if (currentState === \"permission\") {\r\n      return <PermissionState />;\r\n    }\r\n\r\n    return (\r\n      <>\r\n        <section className=\"grid gap-4 md:grid-cols-2\">\r\n          <article className=\"kv-surface rounded-3xl p-5\">\r\n            <h2 className=\"text-sm font-semibold\">Blocos da tela</h2>\r\n            {sections.length > 0 ? (\r\n              <ul className=\"mt-3 space-y-2 text-sm text-muted-foreground\">\r\n                {sections.map((item) => (\r\n                  <li key={item}>• {item}</li>\r\n                ))}\r\n              </ul>\r\n            ) : (\r\n              <p className=\"mt-3 text-sm text-muted-foreground\">\r\n                Estrutura inicial criada; detalhes de feature entram na implementação por sprint.\r\n              </p>\r\n            )}\r\n          </article>\r\n\r\n          <article className=\"kv-surface rounded-3xl p-5\">\r\n            <h2 className=\"text-sm font-semibold\">Estados obrigatórios</h2>\r\n            <ul className=\"mt-3 space-y-2 text-sm text-muted-foreground\">\r\n              <li>• Carregamento (skeleton)</li>\r\n              <li>• Sem dados (mensagem + CTA)</li>\r\n              <li>• Erro (tentar novamente + feedback)</li>\r\n              <li>• Sucesso (toast/inline)</li>\r\n              <li>• Sem permissão</li>\r\n            </ul>\r\n          </article>\r\n        </section>\r\n\r\n        {notes.length > 0 ? (\r\n          <section className=\"kv-surface rounded-3xl p-5\">\r\n            <h2 className=\"text-sm font-semibold\">Notas de implementação</h2>\r\n            <ul className=\"mt-3 space-y-2 text-sm text-muted-foreground\">\r\n              {notes.map((note) => (\r\n                <li key={note}>• {note}</li>\r\n              ))}\r\n            </ul>\r\n          </section>\r\n        ) : null}\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <main className=\"mx-auto flex w-full max-w-5xl flex-col gap-6 py-2\">\r\n      <header className=\"kv-surface rounded-3xl p-6\">\r\n        <p className=\"kv-pill inline-flex\">{code}</p>\r\n        <h1 className=\"mt-2 text-2xl font-semibold tracking-tight\">{title}</h1>\r\n        <p className=\"mt-2 text-sm text-muted-foreground\">{objective}</p>\r\n        {primaryAction ? (\r\n          <Link\r\n            href={primaryAction.href}\r\n            className=\"mt-4 inline-flex items-center rounded-xl bg-linear-to-r from-primary to-chart-1 px-4 py-2 text-sm font-medium text-primary-foreground\"\r\n          >\r\n            {primaryAction.label}\r\n          </Link>\r\n        ) : null}\r\n      </header>\r\n\r\n      {renderState()}\r\n    </main>\r\n  );\r\n}\r\n"],"names":["Link","useCallback","useEffect","useState","usePathname","ScreenState","EmptyState","ErrorState","LoadingState","PermissionState","SuccessState","QuickAction","label","href","PageScaffoldProps","code","title","objective","primaryAction","sections","notes","PageScaffold","pathname","currentState","setCurrentState","loadState","showLoading","response","fetch","encodeURIComponent","method","cache","ok","payload","json","state","isActive","run","renderState","window","location","undefined","length","map","item","note"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///C:/dev/korevitta_new/korevitta-app/node_modules/next/navigation.js"],"sourcesContent":["module.exports = require('./dist/client/components/navigation')\n"],"names":[],"mappings":"AAAA,OAAO,OAAO","ignoreList":[0]}}]
}